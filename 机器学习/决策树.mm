<map version="freeplane 1.8.0">
<!--To view this file, download free mind mapping software Freeplane from http://freeplane.sourceforge.net -->
<node TEXT="决策树" LOCALIZED_STYLE_REF="AutomaticLayout.level.root" FOLDED="false" ID="ID_1442350790" CREATED="1585970155825" MODIFIED="1585971375775">
<attribute NAME="分类方法" VALUE="回归方法"/>
<hook NAME="MapStyle" background="#3c3f41" zoom="1.1">
    <properties show_icon_for_attributes="true" fit_to_viewport="false" show_note_icons="true" edgeColorConfiguration="#808080ff,#00ddddff,#dddd00ff,#dd0000ff,#00dd00ff,#dd0000ff,#7cddddff,#dddd7cff,#dd7cddff,#7cdd7cff,#dd7c7cff,#7c7cddff"/>

<map_styles>
<stylenode LOCALIZED_TEXT="styles.root_node" STYLE="oval" UNIFORM_SHAPE="true" VGAP_QUANTITY="24.0 pt">
<font SIZE="24"/>
<stylenode LOCALIZED_TEXT="styles.predefined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="default" ICON_SIZE="12.0 pt" COLOR="#cccccc" STYLE="fork">
<font NAME="SansSerif" SIZE="10" BOLD="false" ITALIC="false"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.details"/>
<stylenode LOCALIZED_TEXT="defaultstyle.attributes">
<font SIZE="9"/>
</stylenode>
<stylenode LOCALIZED_TEXT="defaultstyle.note" COLOR="#cccccc" BACKGROUND_COLOR="#3c3f41" TEXT_ALIGN="LEFT"/>
<stylenode LOCALIZED_TEXT="defaultstyle.floating">
<edge STYLE="hide_edge"/>
<cloud COLOR="#f0f0f0" SHAPE="ROUND_RECT"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.user-defined" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="styles.topic" COLOR="#18898b" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subtopic" COLOR="#cc3300" STYLE="fork">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.subsubtopic" COLOR="#669900">
<font NAME="Liberation Sans" SIZE="10" BOLD="true"/>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.important">
<icon BUILTIN="yes"/>
</stylenode>
</stylenode>
<stylenode LOCALIZED_TEXT="styles.AutomaticLayout" POSITION="right" STYLE="bubble">
<stylenode LOCALIZED_TEXT="AutomaticLayout.level.root" COLOR="#dddddd" STYLE="oval" SHAPE_HORIZONTAL_MARGIN="10.0 pt" SHAPE_VERTICAL_MARGIN="10.0 pt">
<font SIZE="24"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,1" COLOR="#ff3300">
<font SIZE="20"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,2" COLOR="#ffb439">
<font SIZE="18"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,3" COLOR="#99ffff" MAX_WIDTH="15.0 cm">
<font SIZE="16"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,4" COLOR="#bbbbbb" MAX_WIDTH="25.0 cm">
<font SIZE="14"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,5" MAX_WIDTH="25.0 cm">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,6" MAX_WIDTH="25.0 cm">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,7" MAX_WIDTH="25.0 cm">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,8">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,9">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,10">
<font SIZE="12"/>
</stylenode>
<stylenode LOCALIZED_TEXT="AutomaticLayout.level,11">
<font SIZE="12"/>
</stylenode>
</stylenode>
</stylenode>
</map_styles>
</hook>
<hook NAME="accessories/plugins/AutomaticLayout.properties" VALUE="ALL"/>
<hook NAME="AutomaticEdgeColor" COUNTER="24" RULE="ON_BRANCH_CREATION"/>
<node TEXT="决策树模型与学习" POSITION="right" ID="ID_34434167" CREATED="1585971432948" MODIFIED="1585971475236">
<edge COLOR="#7cdd7c"/>
<node TEXT="决策树模型" ID="ID_1830558413" CREATED="1585971476157" MODIFIED="1585971478857">
<node TEXT="决策树" ID="ID_1038169198" CREATED="1585971647580" MODIFIED="1585971650361">
<node TEXT="结点" ID="ID_1013112989" CREATED="1585971650715" MODIFIED="1585971667226">
<node TEXT="内部结点" ID="ID_1603644143" CREATED="1585971676711" MODIFIED="1585971681887">
<node TEXT="特征或属性" ID="ID_539081752" CREATED="1585971686379" MODIFIED="1585971698345"/>
</node>
<node TEXT="叶节点" ID="ID_1372845875" CREATED="1585971682064" MODIFIED="1585971684904">
<node TEXT="类" ID="ID_655657882" CREATED="1585971699879" MODIFIED="1585971701818"/>
</node>
</node>
<node TEXT="有向边" ID="ID_1014037847" CREATED="1585971667787" MODIFIED="1585971675213"/>
</node>
</node>
<node TEXT="决策树与if-then规则" ID="ID_1184004128" CREATED="1585972122783" MODIFIED="1585972131038">
<node TEXT="if-then规则集" ID="ID_1039659425" CREATED="1585972157591" MODIFIED="1585972163864"/>
</node>
<node TEXT="决策树与条件概率分布" ID="ID_174421958" CREATED="1585972168220" MODIFIED="1585972176702">
<node TEXT="给定特征条件下的条件概率分布" ID="ID_1653046343" CREATED="1585972318635" MODIFIED="1585972330513">
<node TEXT="将特征空间划分为互不相交的单元或区域" ID="ID_46219057" CREATED="1585972358206" MODIFIED="1585972376714"/>
<node TEXT="每个单元定义一个类的概率分布" ID="ID_620493950" CREATED="1585972385318" MODIFIED="1585972394073"/>
</node>
<node TEXT="决策树的一条路径对应于划分中的一个单元" ID="ID_1439701117" CREATED="1585972416788" MODIFIED="1585972434890"/>
</node>
<node TEXT="决策树学习" ID="ID_380597936" CREATED="1585972464337" MODIFIED="1585972469315">
<node TEXT="训练集" ID="ID_648079763" CREATED="1586010495771" MODIFIED="1586010506527">
<node TEXT="\latex $D=\{(x_1,y_1),(x_2,y_2),\cdots,(x_N,y_N)\}$" ID="ID_1220142862" CREATED="1586010506534" MODIFIED="1586010553317"/>
</node>
<node TEXT="目标" ID="ID_1675979567" CREATED="1586017616041" MODIFIED="1586017625985">
<node TEXT="与训练集矛盾最小的决策树，同时具有很好的泛化能力" ID="ID_902139419" CREATED="1586017626433" MODIFIED="1586017673519"/>
</node>
<node TEXT="损失函数" ID="ID_1663735464" CREATED="1586018118831" MODIFIED="1586018122457">
<node TEXT="正则化的极大似然函数" ID="ID_1544913059" CREATED="1586018123207" MODIFIED="1586018136948"/>
</node>
<node TEXT="递归选择最优特征" ID="ID_436592111" CREATED="1586018185040" MODIFIED="1586018193241">
<node TEXT="划分空间" ID="ID_45919744" CREATED="1586018196781" MODIFIED="1586018208388"/>
</node>
<node TEXT="算法" ID="ID_1673778934" CREATED="1586018279565" MODIFIED="1586018284105">
<node TEXT="构建根节点" ID="ID_833987683" CREATED="1586018284913" MODIFIED="1586018289887">
<node TEXT="选择一个最优特征" ID="ID_279351356" CREATED="1586018294400" MODIFIED="1586018300899"/>
<node TEXT="使各个子集有一个最好的分类" ID="ID_500053087" CREATED="1586018328074" MODIFIED="1586018340999"/>
</node>
<node TEXT="判断子集是否能被正确的分类" ID="ID_459836747" CREATED="1586018346756" MODIFIED="1586018358128">
<node TEXT="若能，则构建叶节点" ID="ID_1390639805" CREATED="1586018359209" MODIFIED="1586018367777"/>
<node TEXT="若不能，则对该子集选择最优特征构建节点" ID="ID_38483355" CREATED="1586018368228" MODIFIED="1586018403384"/>
</node>
</node>
<node TEXT="剪枝" ID="ID_508775202" CREATED="1586018416262" MODIFIED="1586018422191">
<node TEXT="自下而上剪枝" ID="ID_1119310440" CREATED="1586018430175" MODIFIED="1586018436568"/>
</node>
</node>
</node>
<node TEXT="特征选择" POSITION="right" ID="ID_115862983" CREATED="1586018458571" MODIFIED="1586077866386">
<edge COLOR="#dd7c7c"/>
<node TEXT="选取对训练数据有区分能力的特征" ID="ID_1436846497" CREATED="1586058255279" MODIFIED="1586058268252"/>
<node TEXT="信息增益" ID="ID_1713577111" CREATED="1586058563083" MODIFIED="1586058566662">
<node TEXT="熵" ID="ID_1816419685" CREATED="1586058571036" MODIFIED="1586058574039">
<node TEXT="随机变量不确定性的度量" ID="ID_378589781" CREATED="1586058585613" MODIFIED="1586058601191"/>
<node TEXT="\latex $$H(X)=-\sum_{i=1}^Np_i\log p_i$$" ID="ID_970538583" CREATED="1586058610878" MODIFIED="1586058661989"/>
<node TEXT="\latex $P(X=x_i)=p_i$" ID="ID_1873500850" CREATED="1586058663507" MODIFIED="1586058695679"/>
<node TEXT="\latex $p_i=0,0\log0=0$" ID="ID_1804217438" CREATED="1586058706395" MODIFIED="1586058736536"/>
<node TEXT="熵越大，随机变量不确定性越大" ID="ID_172511355" CREATED="1586058761045" MODIFIED="1586058773792"/>
<node TEXT="\latex $0\leq H(p)\leq\log n$" ID="ID_1287810879" CREATED="1586058776393" MODIFIED="1586058814971"/>
</node>
<node TEXT="条件熵" ID="ID_1891806432" CREATED="1586058574187" MODIFIED="1586058581169">
<node TEXT="已知随机变量X的条件下变量Y的不确定性" ID="ID_1804027235" CREATED="1586058895026" MODIFIED="1586058911585"/>
<node TEXT="\latex $$H(Y|X)=\sum_{i=1}_np_iH(Y|X=x_i)$$" ID="ID_369036683" CREATED="1586058941418" MODIFIED="1586059034508"/>
<node TEXT="\latex $p_i=P(X=x_i)$" ID="ID_1923216242" CREATED="1586059250531" MODIFIED="1586059272147"/>
<node TEXT="X给定条件下Y的条件概率分布的熵对X的数学期望" ID="ID_469335450" CREATED="1586059037293" MODIFIED="1586059071538"/>
</node>
<node TEXT="当概率由数据估计（极大似然估计）得到时熵和条件熵分别是经验熵和经验条件熵" ID="ID_773293527" CREATED="1586059320658" MODIFIED="1586059428013"/>
<node TEXT="定义" ID="ID_1959541355" CREATED="1586059445892" MODIFIED="1586059447973">
<node TEXT="得知特征X的信息而使类Y的信息的不确定性减少的程度" ID="ID_466983497" CREATED="1586059449122" MODIFIED="1586059481048"/>
<node TEXT="特征A对训练数据集D的信息增益定义为集合D的经验熵H(D)与特征A给定条件下D的经验条件熵之差" ID="ID_1754040528" CREATED="1586059507036" MODIFIED="1586059578778"/>
<node TEXT="\latex $g(D,A)=H(D)-H(D|A)$" ID="ID_1216448845" CREATED="1586059580196" MODIFIED="1586059601839"/>
</node>
<node TEXT="信息增益越大，区分能力越强" ID="ID_1070961067" CREATED="1586061621522" MODIFIED="1586061637264"/>
<node TEXT="对训练数据集计算其每个特征的信息增益" ID="ID_755678074" CREATED="1586061654139" MODIFIED="1586061684933"/>
</node>
<node TEXT="算法" ID="ID_1655215218" CREATED="1586061719586" MODIFIED="1586061721804">
<node TEXT="定义" ID="ID_644448780" CREATED="1586061747767" MODIFIED="1586061756071">
<node TEXT="训练集D" ID="ID_1640237350" CREATED="1586061756918" MODIFIED="1586061766437">
<node TEXT="\latex $|D|$表示样本容量" ID="ID_1610737744" CREATED="1586061767489" MODIFIED="1586061784360"/>
</node>
<node TEXT="\latex $K$个类$C_k,k=1,2,\cdots,K$" ID="ID_892507331" CREATED="1586061789440" MODIFIED="1586061820883">
<node TEXT="\latex $|C_k|$表示属于类$C_k$的样本个数" ID="ID_711959226" CREATED="1586061822924" MODIFIED="1586061857058"/>
<node TEXT="\latex $$\sum_{k=1}^K|C_k|=|D|$$" ID="ID_1071120831" CREATED="1586061863501" MODIFIED="1586061887059"/>
</node>
<node TEXT="\latex 特征A有n个不同的取值$\{a_1,a_2,\cdots,a_n\}$" ID="ID_159917370" CREATED="1586062125645" MODIFIED="1586062162646">
<node TEXT="\latex 根据特征A的取值将D划分为n个子集$D_1,D_2,\cdots,D_n,|D_i|为D_i$的样本个数，$$\sum_{i=1}^n|D_i|=|D|$$" ID="ID_1703272883" CREATED="1586062360678" MODIFIED="1586062459202"/>
<node TEXT="\latex 子集$D_i$中属于类$C_k$的样本集合为$D_{ik}$，即$D_{ik}=D_i\bigcap C_k$" ID="ID_193654758" CREATED="1586062469617" MODIFIED="1586062610408"/>
<node TEXT="\latex $|D_{ik}|$为$D_{ik}$的样本个数" ID="ID_1694540434" CREATED="1586062622370" MODIFIED="1586062662614"/>
</node>
</node>
<node TEXT="计算数据集D的经验熵H(D)" ID="ID_1985327039" CREATED="1586062675086" MODIFIED="1586062699214">
<node TEXT="\latex $$H(D)=-\sum_{k=1}^K\frac{|C_k|}{|D|}\log_2\frac{|C_k|}{|D|}$$" ID="ID_1096244189" CREATED="1586062701193" MODIFIED="1586062792824"/>
</node>
<node TEXT="计算特征A对数据集D的经验条件熵H(D|A)" ID="ID_1608749316" CREATED="1586062799789" MODIFIED="1586062829961">
<node TEXT="\latex $$H(D|A)=\sum_{i=1}^n\frac{|D_i|}{|D|}H(D_i)=-\sum_{i=1}^n\frac{|D_i|}{|D|}\sum_{k=1}^K\frac{|D_{ik}|}{|D_i|}\log_2\frac{|D_{ik}|}{|D_i|}$$" ID="ID_940109670" CREATED="1586062830817" MODIFIED="1586062985311"/>
</node>
<node TEXT="计算信息增益" ID="ID_193132799" CREATED="1586063194135" MODIFIED="1586063202493">
<node TEXT="\latex $g(D,A)=H(D)-H(D|A)$" ID="ID_1825838417" CREATED="1586063204083" MODIFIED="1586063226455"/>
</node>
</node>
<node TEXT="信息增益比" ID="ID_696423486" CREATED="1586069875529" MODIFIED="1586069882147">
<node TEXT="训练集的经验熵大的时候，信息增益就大" ID="ID_218005218" CREATED="1586069894524" MODIFIED="1586069920579"/>
<node TEXT="特征A对训练数据集D的信息增益比定义为其信息增益与训练集D关于特征A的值的熵之比" ID="ID_1654817901" CREATED="1586070087671" MODIFIED="1586071019101"/>
<node TEXT="\latex $g_R(D,A)=\frac{g(D,A)}{H_A(D)}$" ID="ID_1661571731" CREATED="1586071020031" MODIFIED="1586071053983"/>
</node>
</node>
<node TEXT="决策树的生成" POSITION="right" ID="ID_1023449102" CREATED="1586077875442" MODIFIED="1586077890985">
<edge COLOR="#7c7cdd"/>
<node TEXT="ID3" ID="ID_1613680095" CREATED="1586077898210" MODIFIED="1586077901083">
<node TEXT="应用信息增益选择特征" ID="ID_1659193483" CREATED="1586077912532" MODIFIED="1586077934338"/>
<node TEXT="相当于用极大似然法进行概率模型的选择" ID="ID_1276548459" CREATED="1586077954419" MODIFIED="1586077973736"/>
<node TEXT="算法" ID="ID_1736792316" CREATED="1586077985215" MODIFIED="1586077989132">
<node TEXT="输入" ID="ID_1808352324" CREATED="1586077990035" MODIFIED="1586078000562">
<node TEXT="\latex 训练集$D$,特征$A$，阈值$\varepsilon$" ID="ID_1419049245" CREATED="1586078001413" MODIFIED="1586078051295"/>
</node>
<node TEXT="输出" ID="ID_1748700908" CREATED="1586078055203" MODIFIED="1586078058741">
<node TEXT="决策树" ID="ID_264103864" CREATED="1586078062626" MODIFIED="1586078066480"/>
</node>
<node TEXT="过程" ID="ID_414589333" CREATED="1586080018065" MODIFIED="1586080019903">
<node TEXT="若D中所有实例属于同一类，则为单节点树，并标记类" ID="ID_643060746" CREATED="1586078069959" MODIFIED="1586078118304"/>
<node TEXT="若A为空集，则为单节点树，将D中实例最大的类标记为该节点的类" ID="ID_1431185592" CREATED="1586078119585" MODIFIED="1586078178886"/>
<node TEXT="否则计算信息增益，选择特征" ID="ID_1743672352" CREATED="1586078179506" MODIFIED="1586078200629"/>
<node TEXT="若信息增益小于阈值，则为单节点树" ID="ID_656696511" CREATED="1586078201937" MODIFIED="1586078229029"/>
<node TEXT="否则，依据特征A划分子节点，将D中实例最大的类标记为该类" ID="ID_184582092" CREATED="1586078231045" MODIFIED="1586078327192"/>
<node TEXT="递归调用生成树的算法，以剩下特征维特征集" ID="ID_1154083878" CREATED="1586078330520" MODIFIED="1586078376889"/>
</node>
</node>
</node>
<node TEXT="C4.5" ID="ID_866874342" CREATED="1586077905738" MODIFIED="1586077911113">
<node TEXT="同ID3，选择特征用了信息增益比" ID="ID_647514642" CREATED="1586078415993" MODIFIED="1586078431259"/>
</node>
</node>
<node TEXT="决策树的剪枝" POSITION="right" ID="ID_499890014" CREATED="1586078435888" MODIFIED="1586078440462">
<edge COLOR="#00dddd"/>
<node TEXT="训练集过拟合" ID="ID_657228157" CREATED="1586078781353" MODIFIED="1586078813015"/>
<node TEXT="极小化整体损失函数" ID="ID_1300779812" CREATED="1586078876485" MODIFIED="1586078898078">
<node TEXT="叶结点个数" ID="ID_1908109342" CREATED="1586078914986" MODIFIED="1586078922160">
<node TEXT="\latex $|T|$" ID="ID_1462711960" CREATED="1586078923977" MODIFIED="1586078935196"/>
</node>
<node TEXT="叶节点t的样本数" ID="ID_1039160550" CREATED="1586078950945" MODIFIED="1586078964580">
<node TEXT="\latex $N_t$" ID="ID_1026409449" CREATED="1586078968464" MODIFIED="1586078982517"/>
</node>
<node TEXT="k类的样本个数" ID="ID_737005873" CREATED="1586079025258" MODIFIED="1586079041370">
<node TEXT="\latex $N_{tk}$" ID="ID_1500469347" CREATED="1586079041756" MODIFIED="1586079062533"/>
</node>
<node TEXT="叶节点t上的经验熵" ID="ID_593122526" CREATED="1586079069873" MODIFIED="1586079108575">
<node TEXT="\latex $H_t(T)$" ID="ID_1448474072" CREATED="1586079109420" MODIFIED="1586079127524"/>
</node>
<node TEXT="损失函数" ID="ID_952621766" CREATED="1586079138017" MODIFIED="1586079144488">
<node TEXT="\latex $$C_{\alpha}(T)=\sum_{t=1}^{|T|}N_tH_t(T)+\alpha|T|$$" ID="ID_1504680548" CREATED="1586079145239" MODIFIED="1586079215322"/>
</node>
<node TEXT="经验熵" ID="ID_786948692" CREATED="1586079373569" MODIFIED="1586079385785">
<node TEXT="\latex $$H_t(T)=-\sum_k\frac{N_{tk}}{N_t}\log\frac{N_{tk}}{N_t}$$" ID="ID_1363807002" CREATED="1586079386201" MODIFIED="1586079471807"/>
</node>
<node TEXT="右端" ID="ID_885938425" CREATED="1586079566974" MODIFIED="1586079570293">
<node TEXT="\latex $$\sum_{t=1}^{|T|}N_tH_t(T)=-\sum_{t=1}^{|T|}\sum_{k=1}^{K}N_{tk}\log\frac{N_{tk}}{N_t}=C(T)$$" ID="ID_661609397" CREATED="1586079571263" MODIFIED="1586079660180"/>
</node>
<node TEXT="\latex $C_{\alpha}(T)=C(T)+\alpha|T|$" ID="ID_893840824" CREATED="1586079671552" MODIFIED="1586079724414">
<node TEXT="C(T)表示预测误差，模型拟合程度" ID="ID_778313874" CREATED="1586079726133" MODIFIED="1586079747426"/>
<node TEXT="|T|表示模型复杂度" ID="ID_1529336235" CREATED="1586079751137" MODIFIED="1586079769725"/>
<node TEXT="\latex $\alpha$较大则模型简单" ID="ID_1863853867" CREATED="1586079769980" MODIFIED="1586079792863"/>
</node>
</node>
<node TEXT="\latex 当$\alpha$确定时，选择最小的损失函数" ID="ID_728586133" CREATED="1586079834606" MODIFIED="1586079864779"/>
<node TEXT="算法" ID="ID_1585731696" CREATED="1586079952996" MODIFIED="1586079954699">
<node TEXT="输入" ID="ID_601703504" CREATED="1586079957153" MODIFIED="1586079959347">
<node TEXT="生成的决策树" ID="ID_442337736" CREATED="1586079960067" MODIFIED="1586079972832"/>
<node TEXT="\latex $\alpha$" ID="ID_41477712" CREATED="1586079976384" MODIFIED="1586079988045"/>
</node>
<node TEXT="输出" ID="ID_950588231" CREATED="1586079989366" MODIFIED="1586079992681">
<node TEXT="修剪后的决策树" ID="ID_1936825637" CREATED="1586079993532" MODIFIED="1586079999374"/>
</node>
<node TEXT="过程" ID="ID_341261451" CREATED="1586080000666" MODIFIED="1586080007070">
<node TEXT="计算每个节点的经验熵" ID="ID_1613605243" CREATED="1586080008506" MODIFIED="1586080045781"/>
<node TEXT="递归的从叶节点向上缩回" ID="ID_696227122" CREATED="1586080046274" MODIFIED="1586080068037"/>
<node TEXT="\latex 缩回前后的损失函数分别为$C_{\alpha}(T_B)$和$C_{\alpha}(T_A)$" ID="ID_608119215" CREATED="1586080114441" MODIFIED="1586080203474"/>
<node TEXT="\latex 如果$C_{\alpha}(T_A)\leq C_{\alpha}(T_B)$则进行剪枝，将父节点作为新的叶节点" ID="ID_1941872435" CREATED="1586080222107" MODIFIED="1586080321601"/>
<node TEXT="重复剪枝，直到不能继续" ID="ID_297755637" CREATED="1586080343519" MODIFIED="1586080369130"/>
</node>
</node>
</node>
<node TEXT="CART算法" POSITION="right" ID="ID_637493214" CREATED="1586080385546" MODIFIED="1586080429111">
<edge COLOR="#dddd00"/>
<node TEXT="分类与回归树" ID="ID_1688567764" CREATED="1586080874740" MODIFIED="1586080887133">
<node TEXT="在给定随机变量X的条件下输出随机变量Y的条件概率分布" ID="ID_316787545" CREATED="1586080902402" MODIFIED="1586080929108"/>
<node TEXT="二叉树" ID="ID_828923807" CREATED="1586080937175" MODIFIED="1586080941016"/>
<node TEXT="算法" ID="ID_1379569103" CREATED="1586080973446" MODIFIED="1586080985880">
<node TEXT="决策树生成" ID="ID_1067011334" CREATED="1586080987574" MODIFIED="1586080996203">
<node TEXT="基于训练数据生成决策树，尽可能大" ID="ID_1315283685" CREATED="1586080998478" MODIFIED="1586081017252"/>
</node>
<node TEXT="决策树剪枝" ID="ID_898905033" CREATED="1586081048084" MODIFIED="1586081053506">
<node TEXT="用验证数据集对树进行剪枝" ID="ID_1551782155" CREATED="1586081055761" MODIFIED="1586081071497"/>
</node>
</node>
</node>
<node TEXT="CART生成" ID="ID_173028547" CREATED="1586081075942" MODIFIED="1586081085681">
<node TEXT="特征选择准则" ID="ID_1561320811" CREATED="1586081163845" MODIFIED="1586081180832">
<node TEXT="回归树用平方误差" ID="ID_1158386056" CREATED="1586081181578" MODIFIED="1586081196455"/>
<node TEXT="分类树用基尼指数" ID="ID_1736065178" CREATED="1586081196567" MODIFIED="1586081203977"/>
</node>
<node TEXT="回归树" ID="ID_1004993715" CREATED="1586081209335" MODIFIED="1586081214921">
<node TEXT="训练集" ID="ID_1664776681" CREATED="1586081272939" MODIFIED="1586081276323">
<node TEXT="\latex $D=\{(x_1,y_1),(x_2,y_2),\cdots,(x_N,y_N)\}$" ID="ID_1627701375" CREATED="1586081219868" MODIFIED="1586081265964"/>
<node TEXT="Y是连续变量" ID="ID_1730707164" CREATED="1586081286930" MODIFIED="1586081294006"/>
</node>
<node TEXT="\latex $$f(x)=\sum_{m=1}^Mc_mI(x\in R_m)$$" ID="ID_1473471878" CREATED="1586081358157" MODIFIED="1586081415162">
<node TEXT="\latex 假设输入空间被划分为M个单元,$R_1,R_2,\cdots,R_M$" ID="ID_1925965623" CREATED="1586081416931" MODIFIED="1586081465230"/>
<node TEXT="\latex 每个单元$R_m$有一个固定的输出$c_m$" ID="ID_1494253330" CREATED="1586081465392" MODIFIED="1586081501516"/>
</node>
<node TEXT="回归树对于训练数据的预测误差" ID="ID_200555466" CREATED="1586081586738" MODIFIED="1586081604937">
<node TEXT="\latex $$\sum_{x_i\in R_m}(y_i-f(x_i))^2$$" ID="ID_861444517" CREATED="1586081605586" MODIFIED="1586081647513"/>
<node TEXT="\latex $c_m$的最优值$\hat c_m=ave(y_i|x_i\in R_m)$" ID="ID_1234138753" CREATED="1586081684052" MODIFIED="1586081782840"/>
</node>
<node TEXT="启发式方法划分空间" ID="ID_1877666450" CREATED="1586081809370" MODIFIED="1586081822871">
<node TEXT="选择第j个变量和它的值s" ID="ID_644985312" CREATED="1586081846699" MODIFIED="1586081874608"/>
<node TEXT="\latex 求解$$\min_{j,s}\left[\min_{c_j}\sum_{x_i\in R_1(j,s)}(y_i-c_1)^2+\min_{c_2}\sum_{x_i\in R_2(j,s)}(y_i-c_2)^2\right]$$" ID="ID_1271929047" CREATED="1586081887260" MODIFIED="1586082059021">
<node TEXT="\latex $R_1(j,s)=\{x|x^{(j)}\leq s\}$" ID="ID_825490721" CREATED="1586082065495" MODIFIED="1586082119365"/>
<node TEXT="\latex $R_2(j,s)=\{x|x^{(j)}&gt;s\}$" ID="ID_1936832211" CREATED="1586082120197" MODIFIED="1586082162865"/>
<node TEXT="\latex 对于固定的变量j可以找到最优的切点$\hat c_1=ave(y_i|x_i\in R_1(j,s))$和$\hat c_2=ave(y_i|x_i\in R_2(j,s))$" ID="ID_1269352357" CREATED="1586082170007" MODIFIED="1586093617850"/>
</node>
<node TEXT="变量所有变量勋在最优的切分变量j以及s" ID="ID_1590328327" CREATED="1586082341477" MODIFIED="1586082362250"/>
<node TEXT="重复上述步骤直到停止条件" ID="ID_1929648453" CREATED="1586082384170" MODIFIED="1586082397048"/>
</node>
<node TEXT="算法" ID="ID_795700652" CREATED="1586093232928" MODIFIED="1586093235004">
<node TEXT="输入" ID="ID_1504968664" CREATED="1586093235900" MODIFIED="1586093238146">
<node TEXT="训练集D" ID="ID_3765021" CREATED="1586093239074" MODIFIED="1586093243020"/>
</node>
<node TEXT="输出" ID="ID_134389190" CREATED="1586093244248" MODIFIED="1586093248573">
<node TEXT="回归树" ID="ID_1202396691" CREATED="1586093248872" MODIFIED="1586093256369"/>
</node>
<node TEXT="过程" ID="ID_245760568" CREATED="1586093258168" MODIFIED="1586093259928">
<node TEXT="遍历变量j，对固定的切分变量j扫描切分点s求解最小值" ID="ID_1497923336" CREATED="1586093260961" MODIFIED="1586093426615">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_1271929047" STARTINCLINATION="134;-12;" ENDINCLINATION="204;69;" STARTARROW="NONE" ENDARROW="DEFAULT"/>
</node>
<node TEXT="对选定的j,s划分区域并确定相应的输出值" ID="ID_1210552573" CREATED="1586093572085" MODIFIED="1586093675678">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_1269352357" STARTINCLINATION="198;4;" ENDINCLINATION="-225;143;" STARTARROW="NONE" ENDARROW="DEFAULT"/>
</node>
<node TEXT="重复上述步骤" ID="ID_518306544" CREATED="1586093683585" MODIFIED="1586093693171"/>
<node TEXT="将输入空间划分为M个区域，生成决策树" ID="ID_608347888" CREATED="1586093695571" MODIFIED="1586093754598">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_1473471878" STARTINCLINATION="1501;-127;" ENDINCLINATION="1332;-159;" STARTARROW="NONE" ENDARROW="DEFAULT"/>
</node>
</node>
</node>
</node>
<node TEXT="分类树" ID="ID_673188317" CREATED="1586094395199" MODIFIED="1586094397636">
<node TEXT="基尼指数" ID="ID_1400373056" CREATED="1586094416372" MODIFIED="1586094420068">
<node TEXT="\latex $$Gini(p)=\sum\limits_{k=1}^Kp_k(1-p_k)=1-\sum\limits_{k=1}^Kp_k^2$$" ID="ID_1366775052" CREATED="1586094482008" MODIFIED="1586094947616">
<node TEXT="有K个类" ID="ID_247271070" CREATED="1586094977804" MODIFIED="1586094986553"/>
<node TEXT="样本点属于第k类的概率为pk" ID="ID_363241241" CREATED="1586094993228" MODIFIED="1586095003338"/>
</node>
<node TEXT="\latex $$Gini(D)=1-\sum\limits_{k=1}^K\left(\frac{|C_k|}{|D|}\right)^2$$" ID="ID_1185823480" CREATED="1586095055385" MODIFIED="1586095135588">
<node TEXT="对于给定的样本集合D" ID="ID_1855308328" CREATED="1586095150886" MODIFIED="1586095168933"/>
<node TEXT="\latex $C_k$是D中属于第k类的样本子集，K是类的个数" ID="ID_1955472898" CREATED="1586095169266" MODIFIED="1586095205802"/>
</node>
</node>
<node TEXT="条件基尼指数" ID="ID_1151845472" CREATED="1586095284036" MODIFIED="1586095289082">
<node TEXT="样本D根据特征A是否被某一可能值分割成两部分" ID="ID_544599096" CREATED="1586095313994" MODIFIED="1586095352311">
<node TEXT="\latex $D_1=\{(x,y)\in D|A(x)=a\}" ID="ID_1891049516" CREATED="1586095353151" MODIFIED="1586095383189"/>
<node TEXT="\latex $D_2=D-D_1$" ID="ID_698856156" CREATED="1586095383308" MODIFIED="1586095399132"/>
</node>
<node TEXT="在特征A的条件下，集合D的条件基尼指数" ID="ID_1872485235" CREATED="1586095405112" MODIFIED="1586095423677">
<node TEXT="\latex $$Gini(D,A)=\frac{|D_1|}{|D|}Gini(D_1)+\frac{|D_2|}{|D|}Gini(D_2)$$" ID="ID_861290179" CREATED="1586095424487" MODIFIED="1586095505359"/>
</node>
<node TEXT="条件基尼指数越大，样本集合经A=a分割后不确定性越大" ID="ID_894570008" CREATED="1586095535217" MODIFIED="1586095577438"/>
<node TEXT="二分类问题中基尼指数、半熵、分类误差率的关系" ID="ID_156244468" CREATED="1586096266254" MODIFIED="1586096304410">
<node TEXT="png_5076839024265651549.png" ID="ID_611298124" CREATED="1586096321279" MODIFIED="1586096321279">
<hook URI="决策树_files/png_5076839024265651549.png" SIZE="1.0" NAME="ExternalObject"/>
</node>
</node>
</node>
<node TEXT="算法" ID="ID_1768879604" CREATED="1586097115475" MODIFIED="1586097117445">
<node TEXT="输入" ID="ID_1934048247" CREATED="1586097118159" MODIFIED="1586097119997">
<node TEXT="训练集" ID="ID_698516459" CREATED="1586097120746" MODIFIED="1586097123837"/>
<node TEXT="停止条件" ID="ID_1532673918" CREATED="1586097124930" MODIFIED="1586097128072">
<node TEXT="样本个数小于阈值" ID="ID_1947594698" CREATED="1586097402433" MODIFIED="1586097411024"/>
<node TEXT="样本基尼小于阈值" ID="ID_1413568182" CREATED="1586097411632" MODIFIED="1586097420778"/>
</node>
</node>
<node TEXT="输出" ID="ID_846157964" CREATED="1586097131262" MODIFIED="1586097135024">
<node TEXT="CART决策树" ID="ID_67058688" CREATED="1586097135846" MODIFIED="1586097143820"/>
</node>
<node TEXT="过程" ID="ID_1832724480" CREATED="1586097145241" MODIFIED="1586097146491">
<node TEXT="计算每个特征的条件基尼指数" ID="ID_1458899337" CREATED="1586097209974" MODIFIED="1586097220971">
<node TEXT="根据样本点对A=a是否满足划分成两个子集" ID="ID_1251787328" CREATED="1586097267626" MODIFIED="1586097287098"/>
<node TEXT="计算特征A=a时的条件基尼指数" ID="ID_858478639" CREATED="1586097238465" MODIFIED="1586097266499"/>
</node>
<node TEXT="在所有可能的特征及切分点中选择基尼指数最小的特征及其切分点" ID="ID_1939818443" CREATED="1586097308540" MODIFIED="1586097343066">
<node TEXT="生成两个子节点" ID="ID_1499739775" CREATED="1586097362158" MODIFIED="1586097369828"/>
</node>
<node TEXT="递归调用上述步骤" ID="ID_957367789" CREATED="1586097372763" MODIFIED="1586097380675"/>
<node TEXT="生成CART决策树" ID="ID_1491886854" CREATED="1586097384562" MODIFIED="1586097393067"/>
</node>
</node>
</node>
</node>
<node TEXT="CART剪枝" ID="ID_1031179281" CREATED="1586097548020" MODIFIED="1586097552282">
<node TEXT="概要" ID="ID_125826797" CREATED="1586097584737" MODIFIED="1586097590388">
<node TEXT="完全生长后剪枝" ID="ID_837593544" CREATED="1586097591237" MODIFIED="1586097599847"/>
<node TEXT="先生成决策树T0，从低端不断剪枝，直到根节点，形成一个子树序列{T0,T1,...Tn}" ID="ID_1535711552" CREATED="1586097600253" MODIFIED="1586097677245"/>
<node TEXT="通过交叉验证法在独立的验证数据集上对子树序列进行测试，选择最优子树" ID="ID_1369702749" CREATED="1586097677479" MODIFIED="1586097705445"/>
</node>
<node TEXT="剪枝，形成子树序列" ID="ID_1617548936" CREATED="1586097722232" MODIFIED="1586097732499">
<node TEXT="计算子树的损失函数" ID="ID_1115882060" CREATED="1586097733521" MODIFIED="1586097752014">
<node TEXT="\latex $C_{\alpha}(T)=C(T)+\alpha|T|$" ID="ID_520085994" CREATED="1586097753093" MODIFIED="1586097795118">
<node TEXT="C(T)为对训练数据的预测误差（如基尼指数）" ID="ID_358069217" CREATED="1586097840130" MODIFIED="1586097868331"/>
<node TEXT="|T|为子树的叶节点个数" ID="ID_74446818" CREATED="1586097868512" MODIFIED="1586097891231"/>
</node>
</node>
<node TEXT="用递归的方法对树进行剪枝" ID="ID_1861834719" CREATED="1586098552816" MODIFIED="1586098567080">
<node TEXT="\latex 将$\alpha$从小增大，产生一系列的区间$[\alpha_i,alpha_{i+1}),i=0,1,\cdots,n$" ID="ID_951151250" CREATED="1586098574673" MODIFIED="1586098659617"/>
<node TEXT="\latex 剪枝得到的子树序列对应着区间中的最优子树序列$\{T_0,T_1,\cdots,T_n\}$" ID="ID_807309288" CREATED="1586098668332" MODIFIED="1586098746914"/>
<node TEXT="子树是嵌套的" ID="ID_1711854327" CREATED="1586098715270" MODIFIED="1586098727766"/>
</node>
<node TEXT="\latex 整体树$T_0$开始剪枝，对任意内部节点t" ID="ID_920953980" CREATED="1586098754455" MODIFIED="1586098792742">
<node TEXT="\latex 以t为单节点树的损失函数" ID="ID_116771930" CREATED="1586098793689" MODIFIED="1586098813106">
<node TEXT="\latex $C_{\alpha}(t)=C(t)+\alpha$" ID="ID_1926514473" CREATED="1586098813871" MODIFIED="1586098845947"/>
</node>
<node TEXT="以t为根节点的子树Tt的损失函数" ID="ID_1417978932" CREATED="1586098847684" MODIFIED="1586098864660">
<node TEXT="\latex $C_{\alpha}(T_t)=C(T_t)+\alpha|T_t|" ID="ID_711913026" CREATED="1586098866686" MODIFIED="1586098909348"/>
</node>
<node TEXT="" ID="ID_860888174" CREATED="1586099173684" MODIFIED="1586099173686">
<hook NAME="FirstGroupNode"/>
</node>
<node TEXT="\latex 当$\alpha=0$或充分小时" ID="ID_1332083807" CREATED="1586098921993" MODIFIED="1586098960880">
<node TEXT="\latex $C_{\alpha}(T_t)&lt;C_{\alpha}(t)" ID="ID_1631724946" CREATED="1586098813871" MODIFIED="1586099032634"/>
</node>
<node TEXT="\latex \alpha 不断增大" ID="ID_927342515" CREATED="1586099038849" MODIFIED="1586099053647">
<node TEXT="\latex 存在$C_{\alpha}(T_t)=C_{\alpha}(t)" ID="ID_1469314748" CREATED="1586098813871" MODIFIED="1586099095162"/>
</node>
<node TEXT="\latex \alpha再增大，存在反向" ID="ID_59309932" CREATED="1586099102359" MODIFIED="1586099128701"/>
<node TEXT="" ID="ID_989724715" CREATED="1586099173673" MODIFIED="1586099173684">
<hook NAME="SummaryNode"/>
<hook NAME="AlwaysUnfoldedNode"/>
<node TEXT="\latex 只要\alpha=\frac{C(t)-C(T_t)}{|T_t|-1}，则损失函数相同" ID="ID_1500793130" CREATED="1586099173688" MODIFIED="1586099238299"/>
<node TEXT="t节点更少，对Tt进行剪枝" ID="ID_1999293030" CREATED="1586099239568" MODIFIED="1586099253722"/>
</node>
</node>
<node TEXT="计算T0每一内部节点t" ID="ID_1122073413" CREATED="1586099264384" MODIFIED="1586099296570">
<node TEXT="\latex g(t)=\frac{C(t)-C(T_t)}{|T_t|-1}" ID="ID_997393416" CREATED="1586099173688" MODIFIED="1586099328128"/>
<node TEXT="它表示剪枝后整体损失函数减少的程度" ID="ID_1807963862" CREATED="1586099375201" MODIFIED="1586099390908"/>
<node TEXT="在T0中剪去g(t)最小的Tt，得到的子树T1，同时最小的g(t)作为\alpha1" ID="ID_1173983424" CREATED="1586099394894" MODIFIED="1586099481183"/>
</node>
<node TEXT="一直剪枝直到根节点，不断增加\alpha 的值" ID="ID_727618514" CREATED="1586099492705" MODIFIED="1586099535194"/>
</node>
<node TEXT="在剪枝得到的子树序列中通过交叉验证选择最优子树" ID="ID_1979214525" CREATED="1586099537578" MODIFIED="1586099560701">
<node TEXT="利用独立的验证数据集，测试子树序列各个树的平方误差或基尼指数" ID="ID_514799498" CREATED="1586099564123" MODIFIED="1586099614992"/>
<node TEXT="选择最小的作为最优决策树" ID="ID_827987772" CREATED="1586099615204" MODIFIED="1586099632561"/>
</node>
<node TEXT="算法" ID="ID_511513211" CREATED="1586100175067" MODIFIED="1586100177717">
<node TEXT="输入" ID="ID_118690834" CREATED="1586100178675" MODIFIED="1586100180982">
<node TEXT="完全生长的决策树T0" ID="ID_1054486313" CREATED="1586100181791" MODIFIED="1586100201008"/>
</node>
<node TEXT="输出" ID="ID_708998995" CREATED="1586100202481" MODIFIED="1586100204353">
<node TEXT="最优决策树" ID="ID_379526317" CREATED="1586100205421" MODIFIED="1586100217264"/>
</node>
<node TEXT="过程" ID="ID_769009533" CREATED="1586100218245" MODIFIED="1586100220929">
<node TEXT="k=0,T=T0" ID="ID_259991191" CREATED="1586100222418" MODIFIED="1586100236532"/>
<node TEXT="\latex \alpha=+\infty" ID="ID_1867009200" CREATED="1586100237564" MODIFIED="1586100279133"/>
<node TEXT="自下而上地对各内部节点t计算" ID="ID_538393448" CREATED="1586100281570" MODIFIED="1586100337379">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_997393416" STARTINCLINATION="367;0;" ENDINCLINATION="367;0;" STARTARROW="NONE" ENDARROW="DEFAULT"/>
</node>
<node TEXT="自上而下的访问内部节点t" ID="ID_1621951360" CREATED="1586100351722" MODIFIED="1586100369358">
<node TEXT="\latex 若有g(t)=\alpha,则进行剪枝，得到树T" ID="ID_1767988663" CREATED="1586100370114" MODIFIED="1586100398977"/>
</node>
<node TEXT="\latex $k=k+1,\alpha_k=\alpha,T_k=T$" ID="ID_837490177" CREATED="1586100400857" MODIFIED="1586100441804"/>
<node TEXT="如果T不是由根节点单独构成的书，则继续返回" ID="ID_487072688" CREATED="1586100443243" MODIFIED="1586100504159">
<arrowlink SHAPE="CUBIC_CURVE" COLOR="#000000" WIDTH="2" TRANSPARENCY="200" FONT_SIZE="9" FONT_FAMILY="SansSerif" DESTINATION="ID_1767988663" STARTINCLINATION="158;0;" ENDINCLINATION="158;0;" STARTARROW="NONE" ENDARROW="DEFAULT"/>
</node>
<node TEXT="采用交叉沿着在子树序列中选择最优子树" ID="ID_412263538" CREATED="1586100507276" MODIFIED="1586100524822"/>
</node>
</node>
</node>
</node>
</node>
</map>
